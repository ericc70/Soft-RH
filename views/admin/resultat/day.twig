{% extends "base.twig" %}
{% block content %}
{% if results %}
{{ results| json_encode()}}

{% endif %}




		<div class="chart-container" style="position: relative; height:40vh; width:40vw">
			 {% for i in 1..4  %}
                <canvas id="{{i}}"></canvas>
                
         
            {% endfor %}
    
		</div>



		<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
        <script>
         
        {% for i in 1..4  %}
        
        // console.log({{ results.departement_id[i] | json_encode()}});
        
   
        var ctx = document.getElementById({{i}}).getContext('2d');
        
        
        var myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: [`departement{{i}}`],
                datasets: [
                    {
                    label: 'heureux',
                    
                    data: [{{ results.humeur1[i-1] | json_encode()}}],
                    borderColor: ['green',],
                    backgroundColor: ['green',],
                    pointBackgroundColor:['green',],
                    borderWidth:[5,],
                    
                },
                {
                    label: 'Fatigué',
                    data:  [{{ results.humeur2[i-1] | json_encode()}}
                    ],
                
                    borderColor: ['yellow',],
                    backgroundColor: ['yellow',],
                    borderWidth:[ 4,],
                },
                {
                    label: 'Stressé',
                    data: [{{ results.humeur3[i-1] | json_encode()}}],
                    
                    borderColor: ['red',],
                    pointBackgroundColor:['red',],
                    backgroundColor: ['red',],
                    borderWidth:[3,],
                
                }
                ],
            },
            
            options: {
                title: {
                    display: true,
                    text: 'Humeur des departements',
                },
                
                
                scales: {
                    yAxes: [{
                        stacked: false,
                        
                        ticks: {
                            fontSize: 25, 
                            beginAtZero: true,
                            type: 'myScale' // this is the same key that was passed to the registerScaleType function
                        }
                    }],
                    xAxes: [{
                        ticks: {
                            fontSize: 25
                        }
                    }]
                }
            }
        });
{% endfor %}
        </script>
{% endblock %}